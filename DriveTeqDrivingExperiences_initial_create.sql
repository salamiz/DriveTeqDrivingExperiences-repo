/* DROP DATABASE IF EXISTS */
DROP DATABASE IF EXISTS DriveTeqDrivingExperiences_initial_create
Go
/* CREATE NEW DATABASE */
CREATE DATABASE DriveTeqDrivingExperiences_initial_create
Go
/* USE NEW DATABASE */
USE DriveTeqDrivingExperiences_initial_create
GO
/* Create Parent table for Driver Class */
CREATE TABLE DRIVER_CLASS
(
	DRIVER_CLASS_ID INT IDENTITY(1000,1) PRIMARY KEY,
	DRIVER_CLASS_DESC VARCHAR(225) NOT NULL,
	DRIVER_CLASS_SOLO_READY VARCHAR(50) NOT NULL,
)
GO
/* Create Parent table for Venue */
CREATE TABLE VENUE
(
	VENUE_ID INT IDENTITY(1000,1) PRIMARY KEY,
	VENUE_NAME VARCHAR(200) NOT NULL,
	VENUE_CONTACT_PHONE VARCHAR(50) NOT NULL,
	VENUE_CONTACT_EMAIL VARCHAR(225) NULL
)
GO
/* Create Parent table for Instructor */
CREATE TABLE INSTRUCTOR
(
	INSTRUCTOR_ID INT IDENTITY(1000,1) PRIMARY KEY,
	INSTRUCTOR_LNAME VARCHAR(50) NOT NULL,
	INSTRUCTOR_FNAME VARCHAR(50) NOT NULL,
	INSTRUCTOR_PHONE VARCHAR(20) NOT NULL,
	INSTRUCTOR_EMAIL VARCHAR(50),
	INSTRUCTOR_NOTES VARCHAR(50) NOT NULL
)
GO
/* Create Child table (i.e., contains foriegn key from initial parent table created) for Client */
CREATE TABLE CLIENT
(
	CLIENT_ID INT PRIMARY KEY IDENTITY(1000,1),
	CLIENT_LNAME VARCHAR(50) NOT NULL,
	CLIENT_FNAME VARCHAR(50) NOT NULL,
	CLIENT_PHONE VARCHAR(50) NOT NULL,
	CLIENT_EMAIL VARCHAR(255) NOT NULL,
	CLIENT_DRIVER_CLASS_ID INT NOT NULL FOREIGN KEY REFERENCES DRIVER_CLASS(DRIVER_CLASS_ID),
)
GO
/* Create Child table (i.e., contains foriegn key from initial parent table created) for Event */
CREATE TABLE EVENT
(
	EVENT_ID INT IDENTITY(1000,1) PRIMARY KEY,
	EVENT_NAME VARCHAR(100),
	EVENT_DATE DATE NOT NULL,
	EVENT_VENUE_ID INT NOT NULL FOREIGN KEY REFERENCES VENUE(VENUE_ID),
	EVENT_EARLY_BIRD_PRICE MONEY,
	EVENT_REGULAR_PRICE MONEY NOT NULL,
	EVENT_IS_ROADTRIP VARCHAR(20),
)
GO
/* Create Child table (i.e., contains foriegn key from initial parent table created) for Registration */
CREATE TABLE REGISTRATION
(
	REG_ID INT IDENTITY(1000,1) PRIMARY KEY,
	REG_EVENT_ID INT NOT NULL FOREIGN KEY REFERENCES EVENT(EVENT_ID),
	REG_CLIENT_ID INT NOT NULL FOREIGN KEY REFERENCES CLIENT(CLIENT_ID),
	EVENT_VENUE_ID INT NOT NULL FOREIGN KEY REFERENCES VENUE(VENUE_ID),
	REG_DRIVER_CLASS INT FOREIGN KEY REFERENCES DRIVER_CLASS(DRIVER_CLASS_ID),
	REG_INSTRUCTOR_ID INT FOREIGN KEY REFERENCES INSTRUCTOR(INSTRUCTOR_ID),
	REG_IS_PAID VARCHAR(20),
)
/* DRIVER CLASS TABLE INSERTS */
INSERT INTO DRIVER_CLASS VALUES ('B', 'No')
INSERT INTO DRIVER_CLASS VALUES ('I', 'No') 
INSERT INTO DRIVER_CLASS VALUES ('IS', 'Yes')
INSERT INTO DRIVER_CLASS VALUES ('A ', 'Yes')
INSERT INTO DRIVER_CLASS VALUES ('R','Yes')


/*VENUE INSERTS */
INSERT INTO VENUE VALUES('DDT @ Canadian Tire Motorsport Park','616-035-2523',NULL)
INSERT INTO VENUE VALUES('Pinestone Resort','216-632-6623',NULL) 
INSERT INTO VENUE VALUES('GP @ Canadian Tire Motorsport Park','980-114-0071',NULL) 


/* INSTRUCTOR INSERTS */
INSERT INTO INSTRUCTOR VALUES('Dylan' ,'Gibson', '416-725-5323', NULL,'CASC Champion (multi)')
INSERT INTO INSTRUCTOR VALUES('Bill','Chalkias', '416-737-5500', NULL,'Long racing history. Hands on exotic car dealer.')
INSERT INTO INSTRUCTOR VALUES('Corey' ,'Spelling', '905-252-4252', 'cspells@rogers.com', 'Former Jim Russell instructor.')
INSERT INTO INSTRUCTOR VALUES('Rick', 'Morelli', '905-797-7084', 'morelliautosport@gmail.com', 'Experience HPDE instructor, amateur racer.')
INSERT INTO INSTRUCTOR VALUES('Alex', 'Fegurson', '416-744-5556','alex@gmail.com' ,'Years of experience parking the bus')
INSERT INTO INSTRUCTOR VALUES('Jose', 'Mourinho', '992-711-6899', NULL,'Nascar 2019 runner up')

/* CLIENT INSERTS */
INSERT INTO CLIENT VALUES('Paris', 'Weir', '707-544-6677', 'pweir@hotmail.com', 1000)
INSERT INTO CLIENT VALUES('Carter', 'Augustus', '416-727-4252', 'cahavinfuneh@gmail.com', 1000)
INSERT INTO CLIENT VALUES('Ricky', 'Bobby', '249-234-4700', 'ifiaintfirstimlast@majorbrandco.com', 1003)
INSERT INTO CLIENT VALUES('Tommy',  'Kendall', '424-523-4621', 'tkendall@sprint.com', 1004)
INSERT INTO CLIENT VALUES('Darren', 'Puffer', '905-262-6242', 'darren.puffer@thisisafakedomain.com', 1002)
INSERT INTO CLIENT VALUES('Chris',  'Wells', '707-222-3344', 'wells@hotmail.com', 1001)
INSERT INTO CLIENT VALUES('Total',  'Merch', '605-224-5566', 'merch.total@gmail.com', 1000)
INSERT INTO CLIENT VALUES('Tom',  'Hardy', '457-577-1157', 'tomhardy@hotmail.com', 1002)

/*EVENT INSERTS */
INSERT INTO EVENT VALUES ('Rid the Rust', '2022-04-30', 1000, 425, 575, 'NO')
INSERT INTO EVENT VALUES ('Fair Weather Acceleration', '2022-05-13', 1000, 425, 575, 'NO')
INSERT INTO EVENT VALUES ('Rev Like a Lion', '2022-05-30', 1002, 625, 750, 'NO')
INSERT INTO EVENT VALUES ('Back in the Big House', '2022-06-07', 1002, 625, 750, 'NO')
INSERT INTO EVENT VALUES ('Rid the Rust', '2022-04-30', 1002, 625, 750, 'NO')
INSERT INTO EVENT VALUES ('Studded on Ice', '2022-02-22', 1001, 400, 525, 'NO')
INSERT INTO EVENT VALUES ('Tryad race', '2022-09-30', 1000, 525, 675, 'YES')
INSERT INTO EVENT VALUES ('Ice on hills', '2022-07-22', 1002, 325, 475, 'NO')
INSERT INTO EVENT VALUES ('Monthly Marathon', '2022-11-30', 1002, 625, 775, 'NO')

/*REGISTRATION INSERTS */
INSERT INTO REGISTRATION VALUES(1004, 1004,1000, 1003, 1001, 'Yes')
INSERT INTO REGISTRATION VALUES(1004,1000, 1000, 1000,NULL,'Yes')
INSERT INTO REGISTRATION VALUES(1004,1001, 1000, 1000, 1003, 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1003,1000, 1004,NULL, 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1001,1000,1003, 1002,  'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1004,1001, 1004,NULL , 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1001,1001, 1000, NULL, 'Yes')
INSERT INTO REGISTRATION VALUES(1005, 1002,1001, 1003,NULL,'Yes')
INSERT INTO REGISTRATION VALUES(1006, 1005,1000, 1000, 1001,'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1006,1000, 1003, 1001, 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1003,1000, 1000, 1001, 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1007,1000, 1001, 1001, 'Yes')
INSERT INTO REGISTRATION VALUES(1004, 1001,1000, 1000, 1001, 'Yes')



USE MASTER

